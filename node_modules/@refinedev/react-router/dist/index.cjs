var te=Object.create;var C=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ie=(e,t)=>{for(var o in t)C(e,o,{get:t[o],enumerable:!0})},S=(e,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of re(t))!se.call(e,s)&&s!==o&&C(e,s,{get:()=>t[s],enumerable:!(i=oe(t,s))||i.enumerable});return e};var f=(e,t,o)=>(o=e!=null?te(ne(e)):{},S(t||!e||!e.__esModule?C(o,"default",{value:e,enumerable:!0}):o,e)),ae=e=>S(C({},"__esModule",{value:!0}),e);var fe={};ie(fe,{CatchAllNavigate:()=>X,DocumentTitleHandler:()=>Y,NavigateToResource:()=>V,RefineRoutes:()=>M,UnsavedChangesNotifier:()=>z,default:()=>F,stringifyConfig:()=>U,useDocumentTitle:()=>ee});module.exports=ae(fe);var b=f(require("react")),x=require("@refinedev/core"),d=require("react"),v=f(require("qs")),c=require("react-router");var L=e=>{if(typeof e>"u")return e;let t=Number(e);return`${t}`===e?t:e};var U={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},F={go:()=>{let{search:e,hash:t}=(0,c.useLocation)(),o=(0,c.useNavigate)();return(0,d.useCallback)(({to:s,type:n,query:r,hash:a,options:{keepQuery:p,keepHash:l}={}})=>{let u={...p&&e&&v.default.parse(e,{ignoreQueryPrefix:!0}),...r};u.to&&(u.to=encodeURIComponent(`${u.to}`));let h=Object.keys(u).length>0,y=`#${(a||l&&t||"").replace(/^#/,"")}`,P=y.length>1,I=`${s||""}${h?v.default.stringify(u,U):""}${P?y:""}`;if(n==="path")return I;o(I,{replace:n==="replace"})},[t,e,o])},back:()=>{let e=(0,c.useNavigate)();return(0,d.useCallback)(()=>{e(-1)},[e])},parse:()=>{var p;let e=(0,c.useParams)(),{pathname:t,search:o}=(0,c.useLocation)(),{resources:i}=(0,d.useContext)(x.ResourceContext),{resource:s,action:n,matchedRoute:r}=b.default.useMemo(()=>(0,x.matchResourceFromRoute)(t,i),[i,t]);return Object.entries(e).length===0&&r&&(e=((p=(0,c.matchPath)(r,t))==null?void 0:p.params)||{}),(0,d.useCallback)(()=>{let l=v.default.parse(o,{ignoreQueryPrefix:!0}),u={...e,...l};return{...s&&{resource:s},...n&&{action:n},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:t,params:{...u,current:L(u.current),pageSize:L(u.pageSize),to:u.to?decodeURIComponent(u.to):void 0}}},[t,o,e,s,n])},Link:b.default.forwardRef(function(t,o){return b.default.createElement(c.Link,{...t,ref:o})})};var A=f(require("react")),B=require("@refinedev/core");var k=f(require("react")),D=require("react-router"),ue=(e,t)=>{let{name:o,list:i,create:s,show:n,edit:r}=e;if(typeof i=="string"&&t==="list")return i;if(typeof i=="object"&&t==="list")return i.path;if(typeof s=="string"&&t==="create")return s;if(typeof s=="object"&&t==="create")return s.path;if(typeof n=="string"&&t==="show")return n;if(typeof n=="object"&&t==="show")return n.path;if(typeof r=="string"&&t==="edit")return r;if(typeof r=="object"&&t==="edit")return r.path;let a=`/${o}`,p=`${["edit","create","clone","show"].includes(t)?t:""}`,l=`${["edit","show","clone"].includes(t)?":id":""}`;return[a,p,l].filter(Boolean).join("/")},j=e=>e.flatMap(o=>{let i=[];return["list","show","edit","create"].forEach(s=>{let n=o[s];if(typeof n<"u"&&typeof n!="string"){let r=typeof n=="function"?n:n.component,a=ue(o,s);i.push({action:s,element:r,path:a}),s==="create"&&i.push({action:"clone",element:r,path:a})}}),i.map(({action:s,element:n,path:r})=>{let a=k.default.createElement(n,null);return k.default.createElement(D.Route,{key:`${s}-${r}`,path:r,element:a})})});var H=require("react-router"),M=({children:e})=>{let{resources:t}=(0,B.useResource)(),o=A.default.useMemo(()=>j(t),[t]);return e?e(o):A.default.createElement(H.Routes,null,o)};var N=require("@refinedev/core"),G=f(require("react")),Q=require("react-router"),V=({resource:e,meta:t})=>{let o=(0,N.useGetToPath)(),{resource:i,resources:s}=(0,N.useResource)(e),n=i||s.find(r=>r.list);if(n){let r=o({resource:n,action:"list",meta:t});return r?G.default.createElement(Q.Navigate,{to:r}):(console.warn("No resource is found to navigate to."),null)}return console.warn("No resource is found to navigate to."),null};var E=f(require("react")),T=require("@refinedev/core");var g=f(require("react")),q=require("react-router");function ce(e,t=!0){let{navigator:o}=g.default.useContext(q.UNSAFE_NavigationContext);g.default.useEffect(()=>{if(!t)return;let i=o.go,s=o.push;return o.push=(...n)=>{e()!==!1&&s(...n)},o.go=(...n)=>{e()!==!1&&i(...n)},()=>{o.push=s,o.go=i}},[o,e,t])}function K(e,t=!0,o){let i=g.default.useCallback(n=>(n.preventDefault(),n.returnValue=e,n.returnValue),[e]);g.default.useEffect(()=>(t&&window.addEventListener("beforeunload",i),()=>{window.removeEventListener("beforeunload",i)}),[i,t]);let s=g.default.useCallback(()=>{let n=window.confirm(e);return n&&o&&o(),n},[e]);ce(s,t)}var O=require("react-router"),z=({translationKey:e="warnWhenUnsavedChanges",message:t="Are you sure you want to leave? You have unsaved changes."})=>{let o=(0,T.useTranslate)(),{pathname:i}=(0,O.useLocation)(),{warnWhen:s,setWarnWhen:n}=(0,T.useWarnAboutChange)();E.default.useEffect(()=>()=>n==null?void 0:n(!1),[i]);let r=E.default.useMemo(()=>o(e,t),[e,t,o]);return K(r,s,()=>{n==null||n(!1)}),null};var J=f(require("react")),$=require("react-router"),X=({to:e})=>{let{pathname:t,search:o}=(0,$.useLocation)(),i=`${t}${o}`,s=i.length>1?`?to=${encodeURIComponent(i)}`:"";return J.default.createElement($.Navigate,{to:`${e}${s}`})};var m=require("@refinedev/core"),R=f(require("react")),W=require("react-router");function Y({handler:e}){var P;let t=(0,W.useLocation)(),{action:o,id:i,params:s,pathname:n,resource:r}=(0,m.useParsed)(),a=(0,m.useTranslate)(),p=(0,m.useUserFriendlyName)(),l=(r==null?void 0:r.identifier)??(r==null?void 0:r.name),h=(r==null?void 0:r.label)??((P=r==null?void 0:r.meta)==null?void 0:P.label)??p(l,o==="list"?"plural":"singular"),y=a(`${r==null?void 0:r.name}.${r==null?void 0:r.name}`,h);return(0,R.useLayoutEffect)(()=>{let w=(0,m.generateDefaultDocumentTitle)(a,r,o,`${i}`,h);e?document.title=e({action:o,resource:{...r??{},label:y,meta:{...r==null?void 0:r.meta,label:y}},params:s,pathname:n,autoGeneratedTitle:w}):document.title=w},[t]),R.default.createElement(R.default.Fragment,null)}var _=require("@refinedev/core"),Z=require("react"),ee=e=>{let t=(0,_.useTranslate)();return(0,Z.useEffect)(()=>{e&&(typeof e=="string"?document.title=t(e):document.title=t(e.i18nKey))},[e]),o=>{typeof o=="string"?document.title=t(o):document.title=t(o.i18nKey)}};
//# sourceMappingURL=index.cjs.map